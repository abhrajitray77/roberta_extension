console.log("Background script running."),chrome.commands.onCommand.addListener((e=>{"select-element"===e&&chrome.tabs.query({active:!0,currentWindow:!0},(e=>{chrome.tabs.sendMessage(e[0].id,{action:"select-element"})}))})),chrome.runtime.onMessage.addListener(((e,t,o)=>{"init"===e.type&&(console.log("Content script initialized"),o({type:"init"}))})),chrome.runtime.onMessage.addListener(((e,t,o)=>{if("save-text"===e.action){const{text:t,url:o}=e.payload,n=Date.now().toString();console.log("Saving text:",t,"from url:",o,"with id:",n),chrome.storage.local.set({[n]:{text:t,url:o,id:n}},(()=>{chrome.runtime.lastError?console.error(chrome.runtime.lastError):(console.log("Text saved to local storage."),chrome.notifications.create({type:"basic",title:"Element saved!",message:`Text: ${t}\nURL: ${o}`,iconUrl:"icon.png"}))}))}}));