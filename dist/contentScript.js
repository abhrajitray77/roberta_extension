(()=>{window.onload=e=>{console.log("Page is fully loaded")},chrome.runtime.sendMessage({type:"init"},(e=>{if("init"===e.type){const e="gcdheamihdghgigdeefeeflikiohkbmi",n="chrome-extension://"+e;chrome.runtime.sendMessage(e,{action:"select-element",url:n},(e=>{console.log("Response from background script:",e)}))}}));let e=null;function n(n){const t=n.target;e!==t&&(e&&(e.style.outline=""),e=t,e.style.outline="2px solid red"),n.stopPropagation()}function t(){e&&(e.style.outline="",e=null),document.removeEventListener("mouseover",n),document.removeEventListener("keydown",t)}chrome.runtime.onMessage.addListener(((o,i,s)=>{"select-element"===o.action&&(e=null,document.addEventListener("mouseover",n),document.addEventListener("keydown",(function(e){"Escape"===e.key&&t()})),document.addEventListener("click",(function(n){if(0===n.button){if(e){const n=e.innerText,t=window.location.href;chrome.runtime.sendMessage({action:"save-text",payload:{text:n,url:t}})}t()}})))}))})();